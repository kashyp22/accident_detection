{##}
{#{% extends 'admin/admin_index1.html' %}#}
{#{% block body %}#}
{#<head>#}
{#  <meta charset="UTF-8">#}
{#  <title>Verify Ambulance</title>#}
{#  <style>#}
{##}
{#    h2 {#}
{#      text-align: center;#}
{#      color: #ffd700; /* Gold accent */#}
{#      margin-bottom: 20px;#}
{#    }#}
{#    table {#}
{#      width: 100%;#}
{#      border-collapse: collapse;#}
{#      background: #2b2b3c;#}
{#      box-shadow: 0 4px 10px rgba(0,0,0,0.5);#}
{#      border-radius: 8px;#}
{#      overflow: hidden;#}
{#    }#}
{#    th, td {#}
{#      border: 1px solid #444;#}
{#      padding: 12px;#}
{#      text-align: center;#}
{#      font-size: 14px;#}
{#    }#}
{#    th {#}
{#      background: #3a3a4d;#}
{#      color: #ffd700;#}
{#      text-transform: uppercase;#}
{#      letter-spacing: 1px;#}
{#    }#}
{#    tr:nth-child(even) {#}
{#      background: #242433;#}
{#    }#}
{#    tr:hover {#}
{#      background: #38384d;#}
{#      transition: 0.3s;#}
{#    }#}
{#    a {#}
{#      text-decoration: none;#}
{#      padding: 6px 12px;#}
{#      border-radius: 5px;#}
{#      font-size: 13px;#}
{#      font-weight: bold;#}
{#      margin: 0 3px;#}
{#      display: inline-block;#}
{#    }#}
{#    a.accept {#}
{#      background: #28a745;#}
{#      color: white;#}
{#    }#}
{#    a.accept:hover {#}
{#      background: #218838;#}
{#    }#}
{#    a.reject {#}
{#      background: #dc3545;#}
{#      color: white;#}
{#    }#}
{#    a.reject:hover {#}
{#      background: #b52a37;#}
{#    }#}
{#  </style>#}
{#</head>#}
{#<body>#}
{#  <h2>View Complaint</h2>#}
{#  <table>#}
{#    <tr>#}
{#      <th>User</th>#}
{#      <th>Type</th>#}
{#      <th>Complaint</th>#}
{#      <th>Date</th>#}
{#      <th>Reply</th>#}
{#      <th></th>#}
{#    </tr>#}
{#      {% for i in data %}#}
{#    <tr>#}
{#      <td>{{ i.LOGIN.first_name }}</td>#}
{#      <td>{{ i.type }}</td>#}
{#      <td>{{ i.complaint }} </td>#}
{#      <td>{{ i.date }}</td>#}
{#      <td>{{ i.reply }}</td>#}
{#      <td><a href="/myapp/sendReply/{{ i.id }}/#user">reply</a></td>#}
{#    </tr>#}
{#      {% endfor %}#}
{#  </table>#}
{#</body>#}
{#{% endblock %}#}
{#</html>#}


{% extends 'admin/admin_index1.html' %}
{% block body %}

    <head>
  <meta charset="UTF-8">
  <title>Hospital Table</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">

 <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">

  <!-- DataTables JS -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>

</head>

<style>
{#  body {#}
{#    background: #1e1e2f;#}
{#    font-family: 'Segoe UI', sans-serif;#}
{#  }#}

  .page-title {
    text-align: center;
    color: #ffd700;
    margin: 20px 0;
    font-size: 26px;
    font-weight: bold;
  }

{#  .table-container {#}
{#    background: #2b2b3c;#}
{#    padding: 20px;#}
{#    border-radius: 12px;#}
{#    box-shadow: 0 10px 25px rgba(0,0,0,0.4);#}
{#  }#}
{##}
{#  table {#}
{#    width: 100%;#}
{#    border-collapse: collapse;#}
{#  }#}
{##}
{#  th {#}
{#    background: #3a3a4d;#}
{#    color: #ffd700;#}
{#    padding: 12px;#}
{#    font-size: 14px;#}
{#    text-transform: uppercase;#}
{#    letter-spacing: 1px;#}
{#  }#}
{##}
{#  td {#}
{#    padding: 12px;#}
{#    font-size: 14px;#}
{#    color: #0b1833;#}
{#    border-bottom: 1px solid #444;#}
{#    text-align: center;#}
{#  }#}

  tr:nth-child(even) {
    background: #242433;
  }

  tr:hover {
    background: #3c3c55;
    transition: 0.3s;
  }

  .badge {
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: bold;
    color: white;
    display: inline-block;
  }

  .user { background: #007bff; }
  .ambulance { background: #28a745; }
  .hospital { background: #dc3545; }

  .pending {
    color: #ff4d4d;
    font-weight: bold;
  }

  .replied {
    color: #00ffcc;
    font-weight: bold;
  }

  .reply-btn {
    background: linear-gradient(135deg, #ff9800, #ff5722);
    color: white;
    padding: 6px 14px;
    border-radius: 20px;
    text-decoration: none;
    font-size: 13px;
    font-weight: bold;
    transition: 0.3s;
  }

  .reply-btn:hover {
    background: linear-gradient(135deg, #ff5722, #e64a19);
    box-shadow: 0 0 10px rgba(255,87,34,0.6);
  }

  @media (max-width: 768px) {
    table {
      font-size: 12px;
    }
  }
</style>

<h2 class="page-title">Complaint Management</h2>

<div class="table-container">
  <table id="myTable">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Phone</th>
      <th>Complaint</th>
      <th>Date</th>
      <th>Action</th>
    </tr>
  </thead>
<tbody>
    {% for i in data %}
    <tr style="color: black">
      <td>{{ i.name }}</td>

      <td>
        <span class="badge
          {% if i.type == 'User' %}user{% endif %}
          {% if i.type == 'Ambulance' %}ambulance{% endif %}
          {% if i.type == 'Hospital' %}hospital{% endif %}
        ">
          {{ i.type }}
        </span>
      </td>

      <td>{{ i.phone }}</td>

      <td>{{ i.complaint.complaint }}</td>

      <td>{{ i.complaint.date }}</td>



      {% if i.complaint.reply == "pending" %}

      <td>
        <a href="/myapp/sendReply/{{ i.complaint.id }}/" class="reply-btn">
          Reply
        </a>
      </td>

    {% else %}
          <td>{{ i.complaint.reply }}</td>

    {% endif %}


    </tr>
    {% endfor %}
  </tbody>
  </table>

 <script>
    $(document).ready(function () {
      $("#myTable").DataTable();
    });
  </script>



</div>

{% endblock %}
